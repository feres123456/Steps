{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AuthorsComponent = class AuthorsComponent {\n  constructor(fb, book) {\n    this.fb = fb;\n    this.book = book;\n    this.form = this.fb.group({\n      name: [''],\n      avatar: [null]\n    });\n    this.formupdate = this.fb.group({\n      name: [\"\"],\n      avatar: [null]\n    });\n  }\n\n  ngOnInit() {\n    this.book.getauthors().subscribe(result => {\n      this.collection = result;\n    });\n  }\n\n  onFileSeletected(event) {\n    const file = event.target.files[0];\n    this.form.patchValue({\n      avatar: file\n    });\n    this.form.get('avatar').updateValueAndValidity();\n  }\n\n  submitForm() {\n    var formData = new FormData();\n    formData.append(\"name\", this.form.get('name').value);\n    formData.append(\"avatar\", this.form.get('avatar').value);\n    this.book.addauthors(formData).subscribe(resultat => {\n      this.Employeesadd = \"sucess\";\n      window.location.reload();\n    });\n  }\n\n  updateauthors(data) {\n    var formData = new FormData();\n    formData.append(\"name\", this.formupdate.get('name').value);\n    formData.append(\"avatar\", this.formupdate.get('avatar').value);\n    this.book.updateauthors(formData).subscribe(res => {\n      this.updateres = \"Sucess Update...!\";\n      window.location.reload();\n    });\n  }\n\n};\nAuthorsComponent = __decorate([Component({\n  selector: 'app-authors',\n  templateUrl: './authors.component.html',\n  styleUrls: ['./authors.component.css']\n})], AuthorsComponent);\nexport { AuthorsComponent };","map":null,"metadata":{},"sourceType":"module"}